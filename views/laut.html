<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="laut.css">
</head>
<body>
    <div class="container">
        <div class="char">
            <img src="../../asset/char/Yanto_.svg" alt="char" id="player">
        </div>
        <div class="dialog">
            <h2 id="title"></h2>
            <p id="story"></p>
            <p id="ayahDialog"></p>
            <p id="yantoDialog"></p>
            <p id="narasi1"></p>
            <p id="narasi2"></p>
            <p id="narasi3"></p>
        </div>
        <script>
            const texts = {
                title: "Badai Kehidupan",
                story: "Di sebuah desa pesisir, hiduplah keluarga sederhana yang bergantung pada laut sebagai sumber kehidupan. Yanto, anak sulung dari keluarga tersebut, memiliki mimpi besar untuk menjadi pemancing terbaik. Ia ingin membeli alat pancing yang canggih, tetapi keluarganya tidak mampu.",
                ayah: "Ayah: \"Tidak, Nak. Kita harus hemat. Uang ini untuk kebutuhan keluarga\"",
                yanto: "<strong>Yanto:</strong> \"Ayah tidak pernah mendukung impianku!\"",
                narasi1: "<em>Perdebatan memanas hingga Yanto memutuskan pergi memancing sendirian meski laut sedang tidak bersahabat. Angin mulai bertiup kencang, ombak semakin tinggi, dan Yanto tidak dapat mengendalikan perahunya.</em>",
                narasi2: "<em>Sebuah badai besar datang menerjang, membalikkan perahunya, dan menyeret Yanto ke laut dalam.</em>",
                narasi3: "<em>Ketika tersadar, Yanto menemukan dirinya di pantai sebuah pulau asing. Ia sendirian, tanpa alat pancing, tanpa keluarganya. Ketakutan menyelimuti dirinya, tetapi ia tahu bahwa ia harus bertahan hidup dan mencari cara untuk kembali ke rumah.</em>"
            };

            function typeWriter(elementId, text, speed = 50) {
                return new Promise((resolve) => {
                    const element = document.getElementById(elementId);
                    element.innerHTML = ''; // Reset konten
                    let i = 0;
                    function type() {
                        if (i < text.length) {
                            element.innerHTML += text.charAt(i);
                            i++;
                            setTimeout(type, speed);
                        } else {
                            resolve(); 
                        }
                    }
                    type();
                });
            }

            function hideElement(elementId) {
                const element = document.getElementById(elementId);
                element.style.display = 'none';
            }

            async function playStory() {
                await typeWriter('title', texts.title);
                
                await typeWriter('story', texts.story);
                setTimeout(() => hideElement('story'), 1000); 
                
                await new Promise(resolve => setTimeout(resolve, 1000)); 
                await typeWriter('ayahDialog', texts.ayah);
                setTimeout(() => hideElement('ayahDialog'), 1000);
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                await typeWriter('yantoDialog', texts.yanto);
                setTimeout(() => hideElement('yantoDialog'), 1000);
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                await typeWriter('narasi1', texts.narasi1);
                setTimeout(() => hideElement('narasi1'), 1000);
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                await typeWriter('narasi2', texts.narasi2);
                setTimeout(() => hideElement('narasi2'), 1000);
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                await typeWriter('narasi3', texts.narasi3);
                setTimeout(() => hideElement('narasi3'), 1000);
            }

            playStory();
        </script>
    </div>
</body>
</html> 